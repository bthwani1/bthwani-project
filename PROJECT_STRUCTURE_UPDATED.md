# Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„Ù…Ø­Ø¯Ø«

## ğŸ“ Ø§Ù„Ù‡ÙŠÙƒÙ„ Ø§Ù„Ø¹Ø§Ù…

```
Bthwani Project/
â”œâ”€â”€ bthwani-backend-nest/        # âœ… Ø§Ù„Ø¨Ø§Ùƒ Ø¥Ù†Ø¯ Ø§Ù„Ø¬Ø¯ÙŠØ¯ (NestJS)
â”œâ”€â”€ bthwani-web/                 # âœ… ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ«
â”œâ”€â”€ admin-dashboard/             # âœ… ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ«
â”œâ”€â”€ bThwaniApp/                  # âœ… ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ«
â”œâ”€â”€ vendor-app/                  # âœ… ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ«
â”œâ”€â”€ rider-app/                   # âœ… ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ«
â”œâ”€â”€ field-marketers/             # âœ… ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ«
â””â”€â”€ docs/                        # Ø§Ù„ØªÙˆØ«ÙŠÙ‚
```

---

## ğŸ¯ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø¶Ø§ÙØ© ÙÙŠ ÙƒÙ„ ØªØ·Ø¨ÙŠÙ‚

### bthwani-web (Web App)
```
bthwani-web/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ api.ts                    # â­ Ø¬Ø¯ÙŠØ¯ - ØªØ¹Ø±ÙŠÙØ§Øª API
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ api-helpers.ts            # â­ Ø¬Ø¯ÙŠØ¯ - Ø¯ÙˆØ§Ù„ Ù…Ø³Ø§Ø¹Ø¯Ø©
â”‚   â””â”€â”€ api/
â”‚       â”œâ”€â”€ axios-instance.ts         # âœï¸ Ù…Ø­Ø¯Ø«
â”‚       â””â”€â”€ user.ts                   # âœï¸ Ù…Ø­Ø¯Ø« (Ù†Ù…ÙˆØ°Ø¬)
â””â”€â”€ API_MIGRATION_GUIDE.md            # â­ Ø¬Ø¯ÙŠØ¯ - Ø¯Ù„ÙŠÙ„ Ø§Ù„ØªØ±Ø­ÙŠÙ„
```

### admin-dashboard (Admin Panel)
```
admin-dashboard/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ api.ts                    # â­ Ø¬Ø¯ÙŠØ¯
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ api-helpers.ts            # â­ Ø¬Ø¯ÙŠØ¯
â”‚   â”‚   â””â”€â”€ axios.ts                  # âœï¸ Ù…Ø­Ø¯Ø«
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ [all API files]           # ğŸ“ ÙŠØ­ØªØ§Ø¬ ØªØ­Ø¯ÙŠØ«
```

### bThwaniApp (Mobile App)
```
bThwaniApp/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ api.ts                    # â­ Ø¬Ø¯ÙŠØ¯
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ api/
â”‚   â”‚       â”œâ”€â”€ apiHelpers.ts         # â­ Ø¬Ø¯ÙŠØ¯
â”‚   â”‚       â””â”€â”€ axiosInstance.ts      # âœï¸ Ù…Ø­Ø¯Ø«
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ [all API files]           # ğŸ“ ÙŠØ­ØªØ§Ø¬ ØªØ­Ø¯ÙŠØ«
```

### vendor-app (Vendor Mobile)
```
vendor-app/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ api.ts                    # â­ Ø¬Ø¯ÙŠØ¯
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ apiHelpers.ts             # â­ Ø¬Ø¯ÙŠØ¯
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ axiosInstance.ts          # âœï¸ Ù…Ø­Ø¯Ø«
```

### rider-app (Driver Mobile)
```
rider-app/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ api.ts                    # â­ Ø¬Ø¯ÙŠØ¯
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ axios.ts                  # âœï¸ Ù…Ø­Ø¯Ø«
```

### field-marketers (Marketers Mobile)
```
field-marketers/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ api.ts                    # â­ Ø¬Ø¯ÙŠØ¯
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ client.ts                 # âœï¸ Ù…Ø­Ø¯Ø«
```

---

## ğŸ“‹ Ù…Ù„ÙØ§Øª Ø§Ù„ØªÙˆØ«ÙŠÙ‚ Ø§Ù„Ø¹Ø§Ù…Ø©

```
Bthwani Project/
â”œâ”€â”€ BACKEND_INTEGRATION_SUMMARY.md   # â­ Ø¬Ø¯ÙŠØ¯ - Ù…Ù„Ø®Øµ Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª
â””â”€â”€ PROJECT_STRUCTURE_UPDATED.md     # â­ Ø¬Ø¯ÙŠØ¯ - Ù‡Ø°Ø§ Ø§Ù„Ù…Ù„Ù
```

---

## ğŸ” Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©

### 1. `types/api.ts`
Ù…Ø­ØªÙˆÙ‰ Ù…ÙˆØ­Ø¯ ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª:
- `ApiResponse<T>` - Ø´ÙƒÙ„ Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ù…ÙˆØ­Ø¯
- `ApiError` - ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø®Ø·Ø£
- `ApiMeta` - Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©
- `PaginationMeta` - Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØµÙØ­Ø§Øª
- `ErrorCode` enum - Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
- `ERROR_MESSAGES` - Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠ
- Ø¯ÙˆØ§Ù„ Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ù„Ø§Ø³ØªØ®Ø±Ø§Ø¬

### 2. `utils/api-helpers.ts` (Web Apps)
Ø¯ÙˆØ§Ù„ Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ API:
- `extractApiData<T>()` - Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
- `extractApiArray<T>()` - Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…ØµÙÙˆÙØ©
- `checkApiSuccess()` - Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù†Ø¬Ø§Ø­
- `apiGet<T>()` - wrapper Ù„Ù„Ù€ GET
- `apiMutate<T>()` - wrapper Ù„Ù„Ù€ POST/PUT/PATCH
- `apiDelete()` - wrapper Ù„Ù„Ù€ DELETE
- `apiGetArray<T>()` - wrapper Ù„Ù„Ù…ØµÙÙˆÙØ§Øª

### 3. Axios Instance Updates
Ø¬Ù…ÙŠØ¹ axios instances Ù…Ø­Ø¯Ø«Ø© Ø¨Ù€:
- âœ… Request interceptor Ù„Ø¥Ø¶Ø§ÙØ© token
- âœ… Response interceptor Ù…Ø­Ø³Ù†
- âœ… Ø·Ø¨Ø§Ø¹Ø© ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ ÙÙŠ DEV mode
- âœ… Ù…Ø¹Ø§Ù„Ø¬Ø© userMessage Ù…Ù† Ø§Ù„Ø¨Ø§Ùƒ Ø¥Ù†Ø¯
- âœ… timeout 10 Ø«ÙˆØ§Ù†Ù

---

## ğŸ¨ Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…

### Pattern 1: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø¨Ø§Ø´Ø±
```typescript
import type { ApiResponse } from "../types/api";

const response = await axiosInstance.get<ApiResponse<User>>("/users/me");
const apiResponse = response.data;

if (!apiResponse.success || !apiResponse.data) {
  throw new Error(apiResponse.error?.userMessage || "Ø®Ø·Ø£");
}

return apiResponse.data;
```

### Pattern 2: Ø§Ø³ØªØ®Ø¯Ø§Ù… helpers
```typescript
import { extractApiData } from "../utils/api-helpers";
import type { ApiResponse } from "../types/api";

const response = await axiosInstance.get<ApiResponse<User>>("/users/me");
return extractApiData(response, "ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…");
```

### Pattern 3: Ø§Ø³ØªØ®Ø¯Ø§Ù… wrappers
```typescript
import { apiGet } from "../utils/api-helpers";
import type { ApiResponse } from "../types/api";

return apiGet(
  () => axiosInstance.get<ApiResponse<User>>("/users/me"),
  "ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…"
);
```

---

## ğŸ“Š Ø­Ø§Ù„Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ«

| Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ | Axios | Types | Helpers | API Files | Ø§Ù„Ø­Ø§Ù„Ø© |
|---------|-------|-------|---------|-----------|--------|
| bthwani-web | âœ… | âœ… | âœ… | âš ï¸ (1/11) | Ø¬Ø§Ù‡Ø² Ù„Ù„ØªØ­Ø¯ÙŠØ« |
| admin-dashboard | âœ… | âœ… | âœ… | â³ | Ø¬Ø§Ù‡Ø² Ù„Ù„ØªØ­Ø¯ÙŠØ« |
| bThwaniApp | âœ… | âœ… | âœ… | â³ | Ø¬Ø§Ù‡Ø² Ù„Ù„ØªØ­Ø¯ÙŠØ« |
| vendor-app | âœ… | âœ… | âœ… | â³ | Ø¬Ø§Ù‡Ø² Ù„Ù„ØªØ­Ø¯ÙŠØ« |
| rider-app | âœ… | âœ… | - | â³ | Ø¬Ø§Ù‡Ø² Ù„Ù„ØªØ­Ø¯ÙŠØ« |
| field-marketers | âœ… | âœ… | - | â³ | Ø¬Ø§Ù‡Ø² Ù„Ù„ØªØ­Ø¯ÙŠØ« |

**Ù…Ù„Ø§Ø­Ø¸Ø©:**
- âœ… = Ù…ÙƒØªÙ…Ù„
- âš ï¸ = Ø¬Ø²Ø¦ÙŠ
- â³ = ÙŠØ­ØªØ§Ø¬ ØªØ­Ø¯ÙŠØ«
- \- = ØºÙŠØ± Ù…Ø·Ù„ÙˆØ¨

---

## ğŸš€ Ø®Ø·ÙˆØ§Øª Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1: ØªØ­Ø¯ÙŠØ« API Files (Ø¬Ø§Ø±ÙŠ)
1. âœ… bthwani-web/src/api/user.ts - ØªÙ…
2. â³ bthwani-web/src/api/delivery.ts
3. â³ bthwani-web/src/api/cart.ts
4. â³ bthwani-web/src/api/notifications.ts
5. â³ Ø¨Ù‚ÙŠØ© Ù…Ù„ÙØ§Øª Ø§Ù„Ù€ API

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2: ØªØ­Ø¯ÙŠØ« Ø¨Ø§Ù‚ÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª
1. â³ admin-dashboard API files
2. â³ bThwaniApp API files
3. â³ vendor-app API files
4. â³ rider-app API files
5. â³ field-marketers API files

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3: Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
1. â³ Unit tests
2. â³ Integration tests
3. â³ E2E tests
4. â³ Manual testing

---

## ğŸ’¡ Ù†ØµØ§Ø¦Ø­ Ù„Ù„ØªØ­Ø¯ÙŠØ«

### Ù†ØµÙŠØ­Ø© 1: Ø§Ø³ØªØ®Ø¯Ù… Find & Replace
Ø§Ø¨Ø­Ø« Ø¹Ù†:
```typescript
const response = await axiosInstance.get<User>
```
ÙˆØ§Ø³ØªØ¨Ø¯Ù„ Ø¨Ù€:
```typescript
const response = await axiosInstance.get<ApiResponse<User>>
```

### Ù†ØµÙŠØ­Ø© 2: Ø§Ø³ØªØ®Ø¯Ù… Helpers
Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† ÙƒØªØ§Ø¨Ø© Ù†ÙØ³ Ø§Ù„ÙƒÙˆØ¯ ÙƒÙ„ Ù…Ø±Ø©ØŒ Ø§Ø³ØªØ®Ø¯Ù…:
```typescript
import { apiGet } from "../utils/api-helpers";
```

### Ù†ØµÙŠØ­Ø© 3: Ø§Ù„ØªÙˆØ§ÙÙ‚ Ø§Ù„Ø¹ÙƒØ³ÙŠ
Ø§Ø³ØªØ®Ø¯Ù… `extractDataLegacy` Ø¥Ø°Ø§ ÙƒÙ†Øª ØºÙŠØ± Ù…ØªØ£ÙƒØ¯:
```typescript
import { extractDataLegacy } from "../utils/api-helpers";
const data = extractDataLegacy(response);
```

---

## ğŸ“ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹

- [Axios Documentation](https://axios-http.com/)
- [TypeScript Generics](https://www.typescriptlang.org/docs/handbook/2/generics.html)
- [NestJS Error Handling](https://docs.nestjs.com/exception-filters)
- Backend: `bthwani-backend-nest/src/common/`

---

## âœ… Checklist Ù„Ù„Ù…Ø·ÙˆØ±ÙŠÙ†

Ø¹Ù†Ø¯ ØªØ­Ø¯ÙŠØ« Ù…Ù„Ù API Ø¬Ø¯ÙŠØ¯:

- [ ] Ø§Ø³ØªÙŠØ±Ø§Ø¯ `ApiResponse` Ù…Ù† `types/api`
- [ ] Ø§Ø³ØªÙŠØ±Ø§Ø¯ helper functions Ù…Ù† `utils/api-helpers`
- [ ] ØªØ­Ø¯ÙŠØ« type Ù„Ù„Ù€ axios request
- [ ] Ø§Ø³ØªØ®Ø¯Ø§Ù… helper Ù„Ù„Ø§Ø³ØªØ®Ø±Ø§Ø¬
- [ ] Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­
- [ ] Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø·Ù„Ø¨
- [ ] ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù€ types Ø¥Ø°Ø§ Ù„Ø²Ù…
- [ ] Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„ÙƒÙˆØ¯

---

**Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«**: $(date)
**Ø§Ù„Ø­Ø§Ù„Ø©**: âœ… Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ù…ÙƒØªÙ…Ù„Ø©ØŒ Ø¬Ø§Ù‡Ø² Ù„ØªØ­Ø¯ÙŠØ« API files


