# ุชูุฑูุฑ ุฅุบูุงู ุชุทุจูู ุงูุชุงุฌุฑ - ุงููุณุฎุฉ ุงูููุงุฆูุฉ

## ูุธุฑุฉ ุนุงูุฉ
ุชู ุฅุบูุงู ุฌููุน ุจููุฏ ุชุทุจูู ุงูุชุงุฌุฑ ุจูุฌุงุญ ูุน ุชุทุจูู ุฌููุน ุงูุชุญุณููุงุช ูุงูุชูุซูู ุงููุทููุจ.

## ุงูุจููุฏ ุงููุบููุฉ ุจุงููุงูู โ

### 1. ุงูุฃุฑุจุงุญ โ ุทูุจุงุช ุณุญุจ ุงูุฃุฑุจุงุญ
**ุงููููุงุช ุงูุฑุฆูุณูุฉ:**
- `Backend/src/models/vendor_app/SettlementRequest.ts` - ูููุฐุฌ ุงูุจูุงูุงุช
- `Backend/src/services/vendor/balance.service.ts` - ุฎุฏูุฉ ุญุณุงุจ ุงูุฑุตูุฏ ุงูุตุงูู
- `Backend/src/routes/vendor_app/vendor.routes.ts` - ูุงุฌูุงุช REST
- `vendor-app/src/screens/VendorAccountStatementScreen.tsx` - ุดุงุดุฉ ุงูุชุงุฌุฑ
- `admin-dashboard/src/pages/admin/SettlementsManagementPage.tsx` - ููุญุฉ ุฅุฏุงุฑุฉ ุงูุณุญูุจุงุช

**ุงููุธุงุฆู:**
- โ ุญุณุงุจ ุงูุฑุตูุฏ ุงูุตุงูู ูู ุงูุทูุจุงุช ุงููุณููุฉ
- โ ุฎุตู ุงูุนูููุงุช ูุงูุณุญูุจุงุช ุงูุณุงุจูุฉ
- โ ุญุฏ ุฃุฏูู ููุณุญุจ (30,000 YER)
- โ ุฅุฏุงุฑุฉ ุญุงูุงุช ุงูุณุญุจ (pending/completed/rejected)
- โ ุชุตุฏูุฑ ุงูุชูุงุฑูุฑ ุงููุงููุฉ

### 2. ุงูุงูุถูุงู โ ุชุณุฌูู ูุชูุนูู ุงููุชุฌุฑ
**ุงููููุงุช ุงูุฑุฆูุณูุฉ:**
- `field-marketers/src/screens/onboarding/OnboardingWizardScreen.tsx` - ุชุฏูู ุงูุชุณุฌูู
- `admin-dashboard/src/pages/admin/stores/StoresModerationPage.tsx` - ุชูุนูู ุงููุชุงุฌุฑ
- `admin-dashboard/src/pages/admin/AdminVendorCreatePage.tsx` - ุฅูุดุงุก ุงูุชุงุฌุฑ
- `Backend/src/controllers/admin/vendorController.ts` - ููุทู ุฅูุดุงุก ุงูุชุงุฌุฑ

**ุงููุธุงุฆู:**
- โ ุชุฏูู onboarding ุดุงูู ุจุฎุทูุงุช ูุชุนุฏุฏุฉ
- โ ุชูุนูู ุงููุชุงุฌุฑ ูู ููุญุฉ ุงูุฅุฏุงุฑุฉ
- โ ุฑุจุท ุงูุชุงุฌุฑ ุจุงููุชุฌุฑ
- โ ูุญุต ุตูุงุญูุฉ ุงูุฏุฎูู ุจุนุฏ ุงูุชูุนูู

### 3. ุงูุชูุงุฑูุฑ โ ููุฎุตุงุช ูุงุจูุฉ ููุชูุฒูู
**ุงููููุงุช ุงูุฑุฆูุณูุฉ:**
- `vendor-app/src/screens/StatisticsScreen.tsx` - ููุญุฉ ุงูุฅุญุตุงุฆูุงุช
- `vendor-app/src/components/export-exel.ts` - ูููู ุงูุชุตุฏูุฑ ุงููุญุณู
- `Backend/src/routes/vendor_app/vendor.routes.ts` - `/vendor/dashboard/overview`

**ุงููุธุงุฆู:**
- โ ุฒุฑ ุชุตุฏูุฑ ูุจูุนุงุช ุงูููู ูู ุดุงุดุฉ ุงูุฅุญุตุงุฆูุงุช
- โ ุชุตุฏูุฑ ุดุงูู ูุน ุชูุงุตูู ุงูุนููุงุก ูุงูุฏูุน
- โ ุฅุญุตุงุฆูุงุช ููููุฉ/ุฃุณุจูุนูุฉ/ุดูุฑูุฉ
- โ ุฑุณูู ุจูุงููุฉ ุชูุงุนููุฉ

### 4. ุงูุทูุจุงุช โ ุงุณุชูุงู ููุนุงูุฌุฉ ูุงููุฉ
**ุงููููุงุช ุงูุฑุฆูุณูุฉ:**
- `vendor-app/src/screens/OrdersScreen.tsx` - ุฅุฏุงุฑุฉ ุงูุทูุจุงุช
- `Backend/src/routes/delivery_marketplace_v1/DeliveryOrderRoutes.ts` - ูุณุงุฑุงุช ุงูุทูุจุงุช
- `admin-dashboard/src/pages/delivery/orders/` - ุฅุฏุงุฑุฉ ุงููุจุงุชู

**ุงููุธุงุฆู:**
- โ ุนุฑุถ ูููุชุฑุฉ ุฌููุน ุงูุทูุจุงุช
- โ ูุจูู ูุฅูุบุงุก ุงูุทูุจุงุช ูู ุงูุชุงุฌุฑ
- โ ุฅุณูุงุฏ ุงููุจุงุชู ูู ุงูุฅุฏุงุฑุฉ
- โ ุชุชุจุน ุญุงูุฉ ุงูุชุณููู ุญุชู delivered
- โ ุงูุนูุงุณ ุงูุชุณููู ุนูู ุฑุตูุฏ ุงูุณุญุจ

### 5. ุงูุนุฑูุถ โ ุฅุฏุงุฑุฉ ูู ุงูุฅุฏุงุฑุฉ ููุท
**ุงููููุงุช ุงูุฑุฆูุณูุฉ:**
- `admin-dashboard/src/pages/delivery/DeliveryPromotionsPage.tsx` - ุฅุฏุงุฑุฉ ุงูุนุฑูุถ
- `Backend/src/controllers/marchent/MerchantProductController.ts` - ุชุทุจูู ุงูุนุฑูุถ
- `Backend/src/services/promotion/pricing.service.ts` - ุฎุฏูุงุช ุงูุชุณุนูุฑ

**ุงูุชูุถูุญ ุงูููู:**
- โ **ูุง ุชูุฌุฏ ุดุงุดุฉ ุนุฑูุถ ูู ุชุทุจูู ุงูุชุงุฌุฑ**
- โ ุงูุนุฑูุถ ุชูุฏุงุฑ ูู ููุญุฉ ุงูุฅุฏุงุฑุฉ ููุท
- โ ุงูุฃุณุนุงุฑ ุงููุทุจูุฉ ุชุธูุฑ ุชููุงุฆูุงู ูููุณุชุฎุฏููู ูุน ุชุฃุซูุฑ ุงูุนุฑูุถ
- โ ูุฐุง ููุณ gap ุจู ูุฑุงุฑ ุชุตูููู ูุฏุฑูุณ

### 6. ุงููุชุงููุฌ โ ุฅุฏุงุฑุฉ ุดุงููุฉ ููููุชุฌุงุช
**ุงููููุงุช ุงูุฑุฆูุณูุฉ:**
- `vendor-app/src/screens/ProductsScreen.tsx` - ุนุฑุถ ุงูููุชุฌุงุช
- `vendor-app/src/screens/AddProductScreen.tsx` - ุฅุถุงูุฉ/ุชุนุฏูู ุงูููุชุฌุงุช
- `vendor-app/src/screens/CatalogProductPickerScreen.tsx` - ุงุฎุชูุงุฑ ูู ุงููุงุชุงููุฌ
- `Backend/src/routes/marchent/api.ts` - ูุณุงุฑุงุช ุงูููุชุฌุงุช

**ุงููุธุงุฆู:**
- โ ุฅุถุงูุฉ ููุชุฌุงุช ุฌุฏูุฏุฉ ูุน ุตูุฑ ูุฃุณุนุงุฑ
- โ ุชุนุฏูู ุงูููุชุฌุงุช ูุญุงูุฉ ุงูุชููุฑ
- โ ุงุฎุชูุงุฑ ููุชุฌุงุช ูู ุงููุงุชุงููุฌ ุงูุฌุงูุฒ
- โ ุงูุนูุงุณ ููุฑู ุนูู ูุงุฌูุฉ ุงููุณุชุฎุฏููู

## ุงูุชุญุณููุงุช ุงููุทุจูุฉ ูุคุฎุฑุงู

### 1. ุชูุญูุฏ ุงูุจูุฆุงุช ๐
```javascript
// ูู ุชุทุจูู ุงูุชุงุฌุฑ
const getBaseURL = () => {
  const Constants = require('expo-constants');
  const apiUrls = Constants.default?.expoConfig?.extra?.apiUrl;

  if (__DEV__) {
    return apiUrls?.development || "http://localhost:3000/api/v1";
  } else {
    return apiUrls?.production || "https://bthwani-backend-9u4r.onrender.com/api/v1";
  }
};

// ูู ููุญุฉ ุงูุฅุฏุงุฑุฉ
const getBaseURL = () => {
  if (import.meta.env.DEV) {
    return import.meta.env.VITE_API_URL || "http://localhost:3000/api/v1";
  }
  return import.meta.env.VITE_API_URL || "https://api.bthwani.com/api/v1";
};
```

### 2. ุชุญุณูู ุงูุฅุดุนุงุฑุงุช ๐ฑ
- โ ุฑุจุท ุชููุงุฆู ูู Expo Push Token ุจุนุฏ ุชุณุฌูู ุงูุฏุฎูู
- โ ุฅุฑุณุงู ุงูุชููู ููุฎุงุฏู ุนุจุฑ `POST /api/v1/vendor/push-token`

### 3. ุชุญุณูู ุงูุชุตุฏูุฑ ๐
- โ ุฅุถุงูุฉ ุฒุฑ ุชุตุฏูุฑ ูุจูุนุงุช ุงูููู ูู ุดุงุดุฉ ุงูุฅุญุตุงุฆูุงุช
- โ ุฃุนูุฏุฉ ูุญุณูุฉ ุชุดูู ุชูุงุตูู ุงูุนููุงุก ูุงูุฏูุน
- โ ุนุฑุถ ุนุฏุงุฏ ุทูุจุงุช ุงูููู ูู ุงููุงุฌูุฉ

## ุงูุฃูุงู ูุงูุญูุงูุฉ ๐

### ูุณุงุฑุงุช ุงูุชุงุฌุฑ (ูุญููุฉ ุจู `verifyVendorJWT`):
- โ `/vendor/account/statement` - ูุดู ุงูุญุณุงุจ
- โ `/vendor/settlements` - ุณุฌู ุงูุณุญูุจุงุช
- โ `/vendor/sales` - ูุดู ุงููุจูุนุงุช
- โ `/vendor/dashboard/overview` - ููุญุฉ ุงูุฅุญุตุงุฆูุงุช

### ูุณุงุฑุงุช ุงูุฅุฏุงุฑุฉ (ูุญููุฉ ุจู `verifyFirebase + verifyAdmin`):
- โ ุฌููุน ูุณุงุฑุงุช `/admin/*` ูุญููุฉ ุจุงููุงูู
- โ ุฅุฏุงุฑุฉ ุงูุณุญูุจุงุช ูุงููุชุงุฌุฑ ูุญููุฉ

## ุณุฌู ุงููุทุงุจูุฉ API โ UI

| API Endpoint | ุดุงุดุฉ ุงูุชุงุฌุฑ | ุงูุญูุงูุฉ | ุงููุธููุฉ |
|-------------|-------------|---------|----------|
| `GET /vendor/account/statement` | VendorAccountStatementScreen | โ verifyVendorJWT | ูุดู ุงูุญุณุงุจ ูุงูุฑุตูุฏ |
| `GET /vendor/settlements` | VendorAccountStatementScreen | โ verifyVendorJWT | ุณุฌู ุงูุณุญูุจุงุช |
| `POST /vendor/settlements` | VendorAccountStatementScreen | โ verifyVendorJWT | ุฅูุดุงุก ุทูุจ ุณุญุจ |
| `GET /vendor/dashboard/overview` | StatisticsScreen | โ verifyVendorJWT | ููุญุฉ ุงูุฅุญุตุงุฆูุงุช |
| `GET /delivery/order/vendor/orders` | OrdersScreen | โ verifyVendorJWT | ูุงุฆูุฉ ุงูุทูุจุงุช |
| `PUT /delivery/order/:id/vendor-accept` | OrdersScreen | โ authVendor | ูุจูู ุงูุทูุจ |
| `PUT /delivery/order/:id/vendor-cancel` | OrdersScreen | โ authVendor | ุฅูุบุงุก ุงูุทูุจ |
| `GET /groceries/merchant-products` | ProductsScreen | โ verifyVendorJWT | ุนุฑุถ ุงูููุชุฌุงุช |
| `POST /groceries/merchant-products` | AddProductScreen | โ verifyVendorJWT | ุฅุถุงูุฉ ููุชุฌ |

## ููุงุญุธุงุช ูููุฉ ููุชูุซูู

### ูุธุงู ุงูุนุฑูุถ ๐ฏ
- **ูุง ุชูุฌุฏ ุดุงุดุฉ ุนุฑูุถ ูู ุชุทุจูู ุงูุชุงุฌุฑ** - ูุฑุงุฑ ุชุตูููู ูุฏุฑูุณ
- ุงูุนุฑูุถ ุชูุฏุงุฑ ูู ููุญุฉ ุงูุฅุฏุงุฑุฉ ููุท ูู `DeliveryPromotionsPage.tsx`
- ุงูุฃุณุนุงุฑ ุงููุทุจูุฉ ุชุธูุฑ ุชููุงุฆูุงู ูููุณุชุฎุฏููู ูุน ุชุฃุซูุฑ ุงูุนุฑูุถ
- ูุชู ุชุทุจูู ุงูุนุฑูุถ ุชููุงุฆูุงู ูู `MerchantProductController.ts`

### ุงูุญุฏ ุงูุฃุฏูู ููุณุญุจ ๐ฐ
- ูุถุจูุท ูู ุงููุงุฌูุฉ ูุงูุจุงู ุฅูุฏ (30,000 YER)
- ูุชู ูุญุตู ูู ููุทุชูู: ุงููุงุฌูุฉ ูุงูุฎุงุฏู ูุชูุงุฏู ุชุถุงุฑุจ ุงูุฑุณุงุฆู

### ุงูุจูุฆุงุช ุงูููุญุฏุฉ ๐
- **ุชุทููุฑ**: `http://localhost:3000/api/v1`
- **ุฅูุชุงุฌ**: ุญุณุจ ูุชุบูุฑุงุช ุงูุจูุฆุฉ ูู ูู ุชุทุจูู
- ุงุณุชุฎุฏู ูููุงุช `.env` ููุฅุนุฏุงุฏุงุช ุงููุญููุฉ

## ูุณุงุฑ ุงูุงุฎุชุจุงุฑ ุงูููุงุฆู (UAT)

### ุณููุงุฑูู ูุชูุงูู:
1. **ุฅูุดุงุก ูุชุฌุฑ ุฌุฏูุฏ** ูู field-marketers ุฃู ุงูุฅุฏุงุฑุฉ ูุจุงุดุฑุฉ
2. **ุงูุชูุนูู** ูู `StoresModerationPage` (ุถุบุท Activate)
3. **ุฅูุดุงุก ุชุงุฌุฑ** ูุฑุจูุท ุจุงููุชุฌุฑ ูู `AdminVendorCreatePage`
4. **ุชุณุฌูู ุงูุฏุฎูู** ูู ุชุทุจูู ุงูุชุงุฌุฑ ููุญุต `StoreInfoScreen`
5. **ุฅูุดุงุก ุทูุจุงุช ุชุฌุฑูุจูุฉ** ุญุชู ุญุงูุฉ `delivered` ูู ููุญุฉ ุงูุฅุฏุงุฑุฉ
6. **ูุญุต ุงูุฑุตูุฏ** ูู `/vendor/account/statement`
7. **ุฅูุดุงุก ุทูุจ ุณุญุจ** ูู ุดุงุดุฉ ุงูุชุงุฌุฑ (โฅ 30,000 YER)
8. **ุฅุฏุงุฑุฉ ุงูุญุงูุฉ** ูู ููุญุฉ ุงูุฅุฏุงุฑุฉ (completed ูุน processedAt)
9. **ูุญุต ุชุฃุซูุฑ ุงูุณุญุจ** ุนูู ุงูุฑุตูุฏ ุงูุตุงูู
10. **ุงุฎุชุจุงุฑ ุงูุชุตุฏูุฑ** ูู ุดุงุดุฉ ุงูุฅุญุตุงุฆูุงุช

### ููุงุท ุงููุญุต ุงููููุฉ:
- โ ููุงุชูุญ ุงูุญุงูุงุช ูุชุทุงุจูุฉ (pending/completed/rejected)
- โ ุญุฏ ุงูุณุญุจ ุงูุฃุฏูู (30,000 YER) ููุฑูุถ ูู ุงูุจุงู ุฅูุฏ
- โ ุญุณุงุจ ุงูุฑุตูุฏ ุงูุตุงูู ูุฎุตู `pending + completed`
- โ ุงูุฅุดุนุงุฑุงุช ุชุฑุณู ุชููุงุฆูุงู ุจุนุฏ ุชุณุฌูู ุงูุฏุฎูู
- โ ุงูููุชุฌุงุช ุชุธูุฑ ููุฑุงู ูููุณุชุฎุฏููู ุจุนุฏ ุงูุฅุถุงูุฉ

## ุงูุฎูุงุตุฉ ุงูููุงุฆูุฉ

**ุชุทุจูู ุงูุชุงุฌุฑ ูุบูู ุจุงููุงูู ูุฌุงูุฒ ููุฅูุชุงุฌ** โ

ุฌููุน ุงูุจููุฏ ูุบููุฉ ูุน ุชุทุจูู ุงูุชุญุณููุงุช ุงููุทููุจุฉ:
- โ ุชูุญูุฏ ุงูุจูุฆุงุช ูุงูุญูุงูุฉ
- โ ูุธุงู ุนุฑูุถ ูุฏุฑูุณ ูููุซู
- โ ุงุฎุชุจุงุฑ ูุชูุงูู ุฌุงูุฒ ููุชูููุฐ
- โ ุชูุซูู ุดุงูู ููุตูุงูุฉ ุงููุณุชูุจููุฉ

**ุงูุชุงุฑูุฎ**: ุฃูุชูุจุฑ 2025
**ุงูุญุงูุฉ**: ูุบูู ุจุงููุงูู
