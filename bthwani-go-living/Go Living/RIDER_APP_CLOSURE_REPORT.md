# ๐ ุชูุฑูุฑ ุฅุบูุงู ุชุทุจูู ุงููุงุจุชู (Rider App)

## ๐ ูุธุฑุฉ ุนุงูุฉ
ุชู ุฅูุฌุงุฒ ุชุทููุฑ ูุชูุงูู ุดุงูู ูุชุทุจูู ุงููุงุจุชู (Rider App) ูุน ุงูุจุงู-ุฅูุฏ ูุงูููุญุฉ ุงูุฅุฏุงุฑูุฉ. ูุดูู ูุฐุง ุงูุชูุฑูุฑ ุฌููุน ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ ูุงูุชุญุณููุงุช ุงูุชู ุชู ุชูููุฐูุง.

## ๐ฏ ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ ุงููุถุงูุฉ

### 1. ูุธุงู ุงูุฃุฑุจุงุญ ูุงููุญูุธุฉ ุงููุงููุฉ
#### โ ูุง ุชู ุชูููุฐู:
- **ุดุงุดุฉ ุงููุญูุธุฉ ุงูุชูุงุนููุฉ** (`app/(driver)/wallet.tsx`)
  - ุนุฑุถ ุงูุฑุตูุฏ ุงูุญุงูู
  - ุฃุฑุจุงุญ ุงูููู ูุงูุฃุณุจูุน ูุงูุฅุฌูุงูู
  - ุงููุจุงูุบ ุงููุนููุฉ (pending payments)
  - ุณุญุจ ููุชุญุฏูุซ ููุงุฌูุฉ ุญุฏูุซุฉ

- **ูุธุงู ุงูุณุญุจ ุงููุงูู** (`app/(driver)/withdraw/`)
  - ุทูุจ ุณุญุจ ุฌุฏูุฏ ูุน ุทุฑู ุฏูุน ูุชุนุฏุฏุฉ
  - ุณุฌู ุทูุจุงุช ุงูุณุญุจ ุงูุณุงุจูุฉ
  - ุชูุงูู ูุงูู ูุน ุงูุจุงู-ุฅูุฏ

#### ๐ API ุงููุณุชุฎุฏูุฉ:
```typescript
// ููุฎุต ุงููุญูุธุฉ
GET /api/v1/driver/wallet/summary

// ุทูุจ ุณุญุจ ุฌุฏูุฏ
POST /api/v1/driver/withdrawals

// ูุงุฆูุฉ ุทูุจุงุช ุงูุณุญุจ
GET /api/v1/driver/withdrawals
```

### 2. ูุธุงู ุงูุฅุฌุงุฒุงุช ูุงูุนุทูุงุช
#### โ ูุง ุชู ุชูููุฐู:
- **ุดุงุดุฉ ุฅุฏุงุฑุฉ ุงูุฅุฌุงุฒุงุช** (`app/(driver)/vacations/index.tsx`)
  - ุฅูุดุงุก ุทูุจ ุฅุฌุงุฒุฉ ุฌุฏูุฏ ูุน ุณุจุจ ูุชูุงุฑูุฎ
  - ูุงุฆูุฉ ุจุฌููุน ุทูุจุงุช ุงูุฅุฌุงุฒุงุช ูุน ุญุงูุงุชูุง
  - ููุชุฑุฉ ุจุงูุชุงุฑูุฎ ูุงูุญุงูุฉ

#### ๐ API ุงููุณุชุฎุฏูุฉ:
```typescript
// ุฅูุดุงุก ุทูุจ ุฅุฌุงุฒุฉ
POST /api/v1/driver/vacations

// ูุงุฆูุฉ ุทูุจุงุช ุงูุฅุฌุงุฒุงุช ูุน ููุงุชุฑ
GET /api/v1/driver/vacations?from=...&to=...&status=...
```

### 3. ูุธุงู ุงูุนุฑูุถ ูุงูุทูุจุงุช
#### โ ูุง ุชู ุชูููุฐู:
- **ุดุงุดุฉ ุงูุนุฑูุถ ุงููุชุงุญุฉ** (`app/(driver)/offers/index.tsx`)
  - ุนุฑุถ ุงูุนุฑูุถ ุงูุฌุฏูุฏุฉ ุจุชูุงุตูู ูุงููุฉ
  - ูุจูู ุงูุนุฑูุถ ููุจูู ุงูุทูุจุงุช
  - ุชูุงุตูู ุดุงููุฉ ููู ุนุฑุถ (ูุณุงูุฉุ ููุชุ ุณุนุฑ)

#### ๐ API ุงููุณุชุฎุฏูุฉ:
```typescript
// ูุงุฆูุฉ ุงูุนุฑูุถ ุงููุชุงุญุฉ
GET /api/v1/driver/offers

// ูุจูู ุนุฑุถ ูุญุฏุฏ
POST /api/v1/driver/offers/:id/accept
```

### 4. ูุธุงู ุงูุชููุฑ ูุงูุญุงูุฉ
#### โ ูุง ุชู ุชูููุฐู:
- **ุฒุฑ ุงูุชููุฑ ุงูุชูุงุนูู** ูู ุงูุดุงุดุฉ ุงูุฑุฆูุณูุฉ
  - ุชุจุฏูู ุจูู "ูุชุตู" ู"ุบูุฑ ูุชุตู"
  - ุชูุงูู ููุฑู ูุน ุงูุจุงู-ุฅูุฏ
  - ูุนุงูุฌุฉ ุฃุฎุทุงุก ูุชูุฏูุฉ ูุน rollback

#### ๐ API ุงููุณุชุฎุฏูุฉ:
```typescript
// ุชุญุฏูุซ ุญุงูุฉ ุงูุชููุฑ
PATCH /api/v1/driver/availability
```

### 5. ูุธุงู ุชุตููู ุงููุฑูุจุฉ ูุงูููุชุฑุฉ
#### โ ูุง ุชู ุชูููุฐู:
- **ุญููู ุงููุฑูุจุฉ ูู ุงูุญุณุงุจ** (`app/(driver)/profile.tsx`)
  - ุชุตููู ุงููุฑูุจุฉ (ุฎููู/ูุชูุณุท/ุซููู)
  - ููุฉ ุงููุฑูุจุฉ (cc ุฃู kW)
  - ุญูุธ ูุชุญุฏูุซ ุงูุจูุงูุงุช

- **ููุงุชุฑ ุงููุฑูุจุฉ ูู ููุญุฉ ุงูุชุญูู**
  - ููุชุฑุฉ ุงูุณุงุฆููู ุญุณุจ ุชุตููู ุงููุฑูุจุฉ
  - ููุชุฑุฉ ุญุณุจ ููุฉ ุงููุฑูุจุฉ
  - ุชูุงูู ูุน ูุธุงู ุงูุชูุฒูุน

#### ๐ API ุงููุณุชุฎุฏูุฉ:
```typescript
// ุชุญุฏูุซ ุจูุงูุงุช ุงููุฑูุจุฉ
PATCH /api/v1/driver/me

// ููุชุฑุฉ ุงูุณุงุฆููู ูู ููุญุฉ ุงูุชุญูู
GET /api/v1/admin/drivers/attendance?vehicleClass=...&vehiclePower=...
```

### 6. ูุธุงู ูุคุดุฑ ุฅููุงู ุงูุญุณุงุจ
#### โ ูุง ุชู ุชูููุฐู:
- **ูุคุดุฑ ุฅููุงู ุฏููุงูููู** ูู ุดุงุดุฉ ุงูุญุณุงุจ
  - ุดุงุฑุฉ ุฎุถุฑุงุก ููุญุณุงุจ ุงูููุชูู
  - ุชุญุฐูุฑ ุจุฑุชูุงูู ููุญุณุงุจ ุบูุฑ ุงูููุชูู
  - ุนุฑุถ ุงูุนูุงุตุฑ ุงููุงูุตุฉ ูุงููุณุชูุฏุงุช ุงููุทููุจุฉ

## ๐ง ุงูุชุญุณููุงุช ุนูู ุงูููุฒุงุช ุงูููุฌูุฏุฉ

### 1. ุชุญุณูู ูุธุงู ุงูุทูุจุงุช
- **ุชูุงูู ูุงูู** ูุน ุงูุจุงู-ุฅูุฏ ููุญุตูู ุนูู ุงูุทูุจุงุช
- **ุฅููุงุก ุงูุทูุจุงุช** ูุน ุชุญุฏูุซ ุงูุญุงูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **ุนุฑุถ ุชูุงุตูู ุงูุทูุจุงุช** ุจุดูู ูุญุณู

### 2. ุชุญุณูู ูุธุงู ุงูุญุณุงุจ ุงูุดุฎุตู
- **ุชุญุฏูุซ ุดุงูู** ูุดุงุดุฉ ุงูุญุณุงุจ ูุน ุฌููุน ุงูุญููู ุงูุฌุฏูุฏุฉ
- **ุญูุธ ุชููุงุฆู** ููุชุบููุฑุงุช ูุน ุฑุณุงุฆู ูุฌุงุญ ูุฎุทุฃ
- **ุนุฑุถ ุญุงูุฉ ุงููุณุชูุฏุงุช** ูุงูุญููู ุงููุทููุจุฉ

### 3. ุชุญุณูู ุงูุชููู ูุงููุงุฌูุฉ
- **ุชุตููู ูุชุฌุงูุจ** ูุฏุนู ุฌููุน ุฃุญุฌุงู ุงูุดุงุดุงุช
- **ุฃููููุงุช ูุฃููุงู** ุชุนุจุฑ ุนู ุงูุญุงูุงุช ุจูุถูุญ
- **ุฑุณูู ูุชุญุฑูุฉ ุณูุณุฉ** ููุงูุชูุงูุงุช

## ๐๏ธ ุงูุชูุงูู ูุน ุงูุจุงู-ุฅูุฏ

### ูุณุงุฑุงุช API ุงููุถุงูุฉ:
```typescript
// ุงููุญูุธุฉ ูุงูุฃุฑุจุงุญ
GET  /api/v1/driver/wallet/summary

// ุงูุณุญุจ ุงููุงูู
POST /api/v1/driver/withdrawals
GET  /api/v1/driver/withdrawals

// ุงูุฅุฌุงุฒุงุช
POST /api/v1/driver/vacations
GET  /api/v1/driver/vacations

// ุงูุนุฑูุถ
GET  /api/v1/driver/offers
POST /api/v1/driver/offers/:id/accept

// ุงููุฑูุจุฉ ูุงูููุชุฑุฉ
PATCH /api/v1/driver/me (ูุน ุงูุญููู ุงูุฌุฏูุฏุฉ)

// ููุญุฉ ุงูุชุญูู
GET /api/v1/admin/drivers/vacations (ุฅุฏุงุฑุฉ ุงูุฅุฌุงุฒุงุช)
GET /api/v1/admin/drivers/attendance (ูุน ููุงุชุฑ ุงููุฑูุจุฉ)
```

### ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุญุฏุซุฉ:
- **ุญููู ุฌุฏูุฏุฉ ูู ุฌุฏูู ุงูุณุงุฆููู**:
  - `vehicleClass` (ุชุตููู ุงููุฑูุจุฉ)
  - `vehiclePower` (ููุฉ ุงููุฑูุจุฉ)
  - ููุงุฑุณ ูุญุณููุฉ ููุฃุฏุงุก

- **ุฌุฏุงูู ุฌุฏูุฏุฉ ูุฑุชุจุทุฉ**:
  - `VacationRequest` (ุทูุจุงุช ุงูุฅุฌุงุฒุงุช)
  - `WithdrawalRequest` (ุทูุจุงุช ุงูุณุญุจ)
  - ูุนุงููุงุช ุงููุญูุธุฉ ูุญุฏุซุฉ

## ๐งช ุณููุงุฑูููุงุช ุงูุงุฎุชุจุงุฑ

### ุณููุงุฑูููุงุช ุงูุงุฎุชุจุงุฑ ุงููุชุงุญุฉ:

#### 1. ุงุฎุชุจุงุฑ ุงููุญูุธุฉ ูุงูุฃุฑุจุงุญ:
```bash
# ุชุดุบูู ุณูุฑูุจุช ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ
cd Backend && npm run test-scenarios

# ูุญุต ููุฎุต ุงููุญูุธุฉ
curl http://localhost:3000/api/v1/driver/wallet/summary \
  -H "Authorization: Bearer YOUR_TOKEN"
```

#### 2. ุงุฎุชุจุงุฑ ุงูุณุญุจ ุงููุงูู:
```typescript
// ูู ุงูุชุทุจูู
import { requestWithdrawal, listWithdrawals } from '@/api/driver';

// ุทูุจ ุณุญุจ ุฌุฏูุฏ
await requestWithdrawal({
  amount: 100,
  method: "bank",
  accountInfo: "123456789"
});

// ูุงุฆูุฉ ุทูุจุงุช ุงูุณุญุจ
const withdrawals = await listWithdrawals();
```

#### 3. ุงุฎุชุจุงุฑ ุงูุฅุฌุงุฒุงุช:
```typescript
// ูู ุงูุชุทุจูู
import { requestVacation, listVacations } from '@/api/driver';

// ุฅูุดุงุก ุทูุจ ุฅุฌุงุฒุฉ
await requestVacation({
  fromDate: new Date("2024-12-01"),
  toDate: new Date("2024-12-07"),
  reason: "ุฅุฌุงุฒุฉ ุนุงุฆููุฉ"
});

// ูุงุฆูุฉ ุงูุฅุฌุงุฒุงุช ูุน ููุงุชุฑ
const vacations = await listVacations({
  status: "pending",
  from: "2024-12-01"
});
```

#### 4. ุงุฎุชุจุงุฑ ุงูุนุฑูุถ ูุงูุทูุจุงุช:
```typescript
// ูู ุงูุจุงู-ุฅูุฏ - ุฅุฑุณุงู ุนุฑุถ ูุณุงุฆู ูุชุงุญ
import { broadcastOffersForOrder } from '@/services/dispatch';

await broadcastOffersForOrder(orderId);

// ูู ุงูุชุทุจูู - ูุจูู ุงูุนุฑุถ
import { listOffers, acceptOffer } from '@/api/driver';

const offers = await listOffers();
await acceptOffer(offers[0]._id);
```

#### 5. ุงุฎุชุจุงุฑ ุงูุชููุฑ:
```typescript
// ูู ุงูุชุทุจูู - ุชุจุฏูู ุญุงูุฉ ุงูุชููุฑ
import { updateAvailability } from '@/api/driver';

await updateAvailability(false); // ุบูุฑ ูุชุตู
await updateAvailability(true);  // ูุชุตู
```

## ๐ ุงููุชุงุฆุฌ ูุงูุฅุญุตุงุฆูุงุช

### ููุฒุงุช ููุชููุฉ:
- โ ูุธุงู ุงูุฃุฑุจุงุญ ูุงููุญูุธุฉ (100%)
- โ ูุธุงู ุงูุณุญุจ ุงููุงูู (100%)
- โ ูุธุงู ุงูุฅุฌุงุฒุงุช (100%)
- โ ูุธุงู ุงูุนุฑูุถ (100%)
- โ ูุธุงู ุงูุชููุฑ (100%)
- โ ูุธุงู ุชุตููู ุงููุฑูุจุฉ (100%)
- โ ูุคุดุฑ ุฅููุงู ุงูุญุณุงุจ (100%)
- โ ุงูุชูุงูู ุงููุงูู ูุน ุงูุจุงู-ุฅูุฏ (100%)

### ููุงุท ุงูุชุญุณูู:
- **ุงูุฃุฏุงุก**: ุฌููุน ุงูุนูููุงุช ูุชุฒุงููุฉ ููุญุณููุฉ
- **ุงูุฃูุงู**: ุชุดููุฑ ุงูุจูุงูุงุช ูุตูุงุญูุงุช ุงููุตูู
- **ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู**: ูุงุฌูุงุช ุญุฏูุซุฉ ูุณููุฉ ุงูุงุณุชุฎุฏุงู
- **ุงูููุซูููุฉ**: ูุนุงูุฌุฉ ุดุงููุฉ ููุฃุฎุทุงุก ูุงูุญุงูุงุช ุงูุงุณุชุซูุงุฆูุฉ

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ (ุงุฎุชูุงุฑูุฉ)

### 1. ุชุญุณููุงุช ููุชุฑุญุฉ:
- ุฅุถุงูุฉ ูุธุงู ุงูุชููููุงุช ูุงููุฑุงุฌุนุงุช
- ุชุทููุฑ ูุธุงู ุงูุฅุดุนุงุฑุงุช ุงููุชูุฏู
- ุฅุถุงูุฉ ุฎุฑุงุฆุท ุชูุงุนููุฉ ููููุงูุน
- ุชุทููุฑ ูุธุงู ุงูุฏุฑุฏุดุฉ ูุน ุงูุนููุงุก

### 2. ุงุฎุชุจุงุฑุงุช ูุชูุฏูุฉ:
- ุงุฎุชุจุงุฑุงุช ุงูุชุญููู ูุงูุฃุฏุงุก
- ุงุฎุชุจุงุฑุงุช ุงูุฃูุงู ูุงูุงุฎุชุฑุงู
- ุงุฎุชุจุงุฑุงุช ุงูุชูุงูู ุงูุดุงูู

### 3. ุงููุดุฑ ูุงูุตูุงูุฉ:
- ุฅุนุฏุงุฏ CI/CD ูููุดุฑ ุงูุชููุงุฆู
- ูุฑุงูุจุฉ ุงูุฃุฏุงุก ูุงูุฃุฎุทุงุก
- ูุณุฎ ุงุญุชูุงุทูุฉ ุฏูุฑูุฉ ููุจูุงูุงุช

## ๐ ุงูุฎูุงุตุฉ

ุชู ุฅูุฌุงุฒ ูุดุฑูุน ุชุทููุฑ ุชุทุจูู ุงููุงุจุชู ุจูุฌุงุญ ูุงููุ ุญูุซ ุฃุตุจุญ ุงูุชุทุจูู ูุชุถูู ุฌููุน ุงูููุฒุงุช ุงูุฃุณุงุณูุฉ ูุงููุชูุฏูุฉ ุงููุทููุจุฉ ูุชุทุจูู ุชูุตูู ูุชูุงูู. ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู ูู ุจูุฆุฉ ุงูุฅูุชุงุฌ ูุน ุฅููุงููุฉ ุงูุชูุณุน ูุงูุชุทููุฑ ุงููุณุชูุจูู.

**ุงูุชุงุฑูุฎ**: ุฃูุชูุจุฑ 2025
**ุงูุญุงูุฉ**: โ ููุชูู ุจุงููุงูู
**ุงูุฅุตุฏุงุฑ**: 1.0.0
