# ğŸ§ª Ø£Ù…Ø«Ù„Ø© Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ù…Ù‚ØªØ±Ø­Ø© - bThwaniApp

## ğŸ“‹ Ù…Ù‚Ø¯Ù…Ø©

Ù‡Ø°Ø§ Ø§Ù„Ù…Ù„Ù ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø£Ù…Ø«Ù„Ø© Ø¹Ù…Ù„ÙŠØ© Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø© Ù„Ù„Ù…Ù„ÙØ§Øª Ø§Ù„ØªÙŠ ØªØ­ØªØ§Ø¬ ØªØ­Ø³ÙŠÙ† ÙÙŠ Ø§Ù„ØªØºØ·ÙŠØ©.

---

## ğŸ” Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø´Ø§Ø´Ø§Øª Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©

### 1. **LoginScreen.test.tsx**

```typescript
import React from 'react';
import { render, screen, fireEvent, waitFor } from '@testing-library/react-native';
import { NavigationContainer } from '@react-navigation/native';
import LoginScreen from '../../screens/Auth/LoginScreen';

// Mock navigation
const mockNavigate = jest.fn();
const mockGoBack = jest.fn();

jest.mock('@react-navigation/native', () => ({
  ...jest.requireActual('@react-navigation/native'),
  useNavigation: () => ({
    navigate: mockNavigate,
    goBack: mockGoBack,
  }),
}));

// Mock API calls
jest.mock('../../api/authService', () => ({
  loginUser: jest.fn(),
}));

describe('LoginScreen', () => {
  beforeEach(() => {
    jest.clearAllMocks();
  });

  test('ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¹Ø±Ø¶ Ù†Ù…ÙˆØ°Ø¬ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„', () => {
    render(
      <NavigationContainer>
        <LoginScreen />
      </NavigationContainer>
    );

    expect(screen.getByPlaceholderText('Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ')).toBeTruthy();
    expect(screen.getByPlaceholderText('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±')).toBeTruthy();
    expect(screen.getByText('ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„')).toBeTruthy();
  });

  test('ÙŠØ¬Ø¨ Ø£Ù† ÙŠØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ', async () => {
    render(
      <NavigationContainer>
        <LoginScreen />
      </NavigationContainer>
    );

    const emailInput = screen.getByPlaceholderText('Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ');
    fireEvent.changeText(emailInput, 'invalid-email');

    const loginButton = screen.getByText('ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„');
    fireEvent.press(loginButton);

    await waitFor(() => {
      expect(screen.getByText('Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØºÙŠØ± ØµØ­ÙŠØ­')).toBeTruthy();
    });
  });

  test('ÙŠØ¬Ø¨ Ø£Ù† ÙŠØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±', async () => {
    render(
      <NavigationContainer>
        <LoginScreen />
      </NavigationContainer>
    );

    const passwordInput = screen.getByPlaceholderText('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±');
    fireEvent.changeText(passwordInput, '123');

    const loginButton = screen.getByText('ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„');
    fireEvent.press(loginButton);

    await waitFor(() => {
      expect(screen.getByText('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† 6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„')).toBeTruthy();
    });
  });

  test('ÙŠØ¬Ø¨ Ø£Ù† ÙŠØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø£Ø®Ø·Ø§Ø¡ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„', async () => {
    const mockLoginUser = require('../../api/authService').loginUser;
    mockLoginUser.mockRejectedValue(new Error('Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„'));

    render(
      <NavigationContainer>
        <LoginScreen />
      </NavigationContainer>
    );

    const emailInput = screen.getByPlaceholderText('Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ');
    const passwordInput = screen.getByPlaceholderText('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±');

    fireEvent.changeText(emailInput, 'test@example.com');
    fireEvent.changeText(passwordInput, 'password123');

    const loginButton = screen.getByText('ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„');
    fireEvent.press(loginButton);

    await waitFor(() => {
      expect(screen.getByText('Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„')).toBeTruthy();
    });
  });

  test('ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙ†ØªÙ‚Ù„ Ù„Ø´Ø§Ø´Ø© Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±', () => {
    render(
      <NavigationContainer>
        <LoginScreen />
      </NavigationContainer>
    );

    const forgotPasswordLink = screen.getByText('Ù†Ø³ÙŠØª ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±ØŸ');
    fireEvent.press(forgotPasswordLink);

    expect(mockNavigate).toHaveBeenCalledWith('ForgotPassword');
  });
});
```

### 2. **RegisterScreen.test.tsx**

```typescript
import React from 'react';
import { render, screen, fireEvent, waitFor } from '@testing-library/react-native';
import { NavigationContainer } from '@react-navigation/native';
import RegisterScreen from '../../screens/Auth/RegisterScreen';

describe('RegisterScreen', () => {
  test('ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¹Ø±Ø¶ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªØ³Ø¬ÙŠÙ„', () => {
    render(
      <NavigationContainer>
        <RegisterScreen />
      </NavigationContainer>
    );

    expect(screen.getByPlaceholderText('Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„')).toBeTruthy();
    expect(screen.getByPlaceholderText('Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ')).toBeTruthy();
    expect(screen.getByPlaceholderText('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±')).toBeTruthy();
    expect(screen.getByPlaceholderText('ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±')).toBeTruthy();
    expect(screen.getByText('Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨')).toBeTruthy();
  });

  test('ÙŠØ¬Ø¨ Ø£Ù† ÙŠØªØ­Ù‚Ù‚ Ù…Ù† ØªØ·Ø§Ø¨Ù‚ ÙƒÙ„Ù…ØªÙŠ Ø§Ù„Ù…Ø±ÙˆØ±', async () => {
    render(
      <NavigationContainer>
        <RegisterScreen />
      </NavigationContainer>
    );

    const passwordInput = screen.getByPlaceholderText('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±');
    const confirmPasswordInput = screen.getByPlaceholderText('ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±');

    fireEvent.changeText(passwordInput, 'password123');
    fireEvent.changeText(confirmPasswordInput, 'password456');

    const registerButton = screen.getByText('Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨');
    fireEvent.press(registerButton);

    await waitFor(() => {
      expect(screen.getByText('ÙƒÙ„Ù…ØªØ§ Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚ØªÙŠÙ†')).toBeTruthy();
    });
  });
});
```

---

## ğŸ’° Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø´Ø§Ø´Ø§Øª Ø§Ù„Ù…Ø­ÙØ¸Ø©

### 1. **WalletScreen.test.tsx**

```typescript
import React from 'react';
import { render, screen, fireEvent, waitFor } from '@testing-library/react-native';
import { NavigationContainer } from '@react-navigation/native';
import WalletScreen from '../../screens/wallet/WalletScreen';

// Mock wallet API
jest.mock('../../api/wallet.api', () => ({
  getWalletBalance: jest.fn(),
  getTransactionHistory: jest.fn(),
}));

describe('WalletScreen', () => {
  beforeEach(() => {
    jest.clearAllMocks();
  });

  test('ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¹Ø±Ø¶ Ø±ØµÙŠØ¯ Ø§Ù„Ù…Ø­ÙØ¸Ø©', async () => {
    const mockGetWalletBalance = require('../../api/wallet.api').getWalletBalance;
    mockGetWalletBalance.mockResolvedValue({ balance: 1000 });

    render(
      <NavigationContainer>
        <WalletScreen />
      </NavigationContainer>
    );

    await waitFor(() => {
      expect(screen.getByText('1000 Ø±ÙŠØ§Ù„')).toBeTruthy();
    });
  });

  test('ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¹Ø±Ø¶ ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª', async () => {
    const mockGetTransactionHistory = require('../../api/wallet.api').getTransactionHistory;
    mockGetTransactionHistory.mockResolvedValue([
      { id: 1, amount: 100, type: 'deposit', date: '2024-01-01' },
      { id: 2, amount: 50, type: 'withdrawal', date: '2024-01-02' },
    ]);

    render(
      <NavigationContainer>
        <WalletScreen />
      </NavigationContainer>
    );

    await waitFor(() => {
      expect(screen.getByText('+100 Ø±ÙŠØ§Ù„')).toBeTruthy();
      expect(screen.getByText('-50 Ø±ÙŠØ§Ù„')).toBeTruthy();
    });
  });

  test('ÙŠØ¬Ø¨ Ø£Ù† ÙŠØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø£Ø®Ø·Ø§Ø¡ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª', async () => {
    const mockGetWalletBalance = require('../../api/wallet.api').getWalletBalance;
    mockGetWalletBalance.mockRejectedValue(new Error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª'));

    render(
      <NavigationContainer>
        <WalletScreen />
      </NavigationContainer>
    );

    await waitFor(() => {
      expect(screen.getByText('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª')).toBeTruthy();
    });
  });

  test('ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙ†ØªÙ‚Ù„ Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø´Ø­Ù†', () => {
    const mockNavigate = jest.fn();
    jest.spyOn(require('@react-navigation/native'), 'useNavigation').mockReturnValue({
      navigate: mockNavigate,
    });

    render(
      <NavigationContainer>
        <WalletScreen />
      </NavigationContainer>
    );

    const topupButton = screen.getByText('Ø´Ø­Ù† Ø§Ù„Ù…Ø­ÙØ¸Ø©');
    fireEvent.press(topupButton);

    expect(mockNavigate).toHaveBeenCalledWith('Topup');
  });
});
```

---

## ğŸ¨ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ù…ÙƒÙˆÙ†Ø§Øª UI

### 1. **Button.test.tsx**

```typescript
import React from 'react';
import { render, screen, fireEvent } from '@testing-library/react-native';
import Button from '../../components/ui/button';

describe('Button', () => {
  test('ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¹Ø±Ø¶ Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨', () => {
    render(<Button title="Ø§Ø¶ØºØ· Ù‡Ù†Ø§" onPress={() => {}} />);
    expect(screen.getByText('Ø§Ø¶ØºØ· Ù‡Ù†Ø§')).toBeTruthy();
  });

  test('ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ³ØªØ¬ÙŠØ¨ Ù„Ù„Ù†Ù‚Ø±', () => {
    const mockOnPress = jest.fn();
    render(<Button title="Ø§Ø¶ØºØ· Ù‡Ù†Ø§" onPress={mockOnPress} />);

    const button = screen.getByText('Ø§Ø¶ØºØ· Ù‡Ù†Ø§');
    fireEvent.press(button);

    expect(mockOnPress).toHaveBeenCalledTimes(1);
  });

  test('ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¹Ø±Ø¶ Ø­Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„', () => {
    render(<Button title="Ø§Ø¶ØºØ· Ù‡Ù†Ø§" onPress={() => {}} loading={true} />);

    expect(screen.getByTestId('loading-indicator')).toBeTruthy();
    expect(screen.queryByText('Ø§Ø¶ØºØ· Ù‡Ù†Ø§')).toBeFalsy();
  });

  test('ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ù…Ø¹Ø·Ù„ Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§Ø¬Ø©', () => {
    const mockOnPress = jest.fn();
    render(<Button title="Ø§Ø¶ØºØ· Ù‡Ù†Ø§" onPress={mockOnPress} disabled={true} />);

    const button = screen.getByText('Ø§Ø¶ØºØ· Ù‡Ù†Ø§');
    fireEvent.press(button);

    expect(mockOnPress).not.toHaveBeenCalled();
  });

  test('ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ·Ø¨Ù‚ Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ù…Ø®ØªÙ„ÙØ©', () => {
    const { rerender } = render(
      <Button title="Ø£ÙˆÙ„ÙŠØ©" onPress={() => {}} variant="primary" />
    );
    expect(screen.getByText('Ø£ÙˆÙ„ÙŠØ©')).toBeTruthy();

    rerender(<Button title="Ø«Ø§Ù†ÙˆÙŠØ©" onPress={() => {}} variant="secondary" />);
    expect(screen.getByText('Ø«Ø§Ù†ÙˆÙŠØ©')).toBeTruthy();
  });
});
```

### 2. **Input.test.tsx**

```typescript
import React from 'react';
import { render, screen, fireEvent } from '@testing-library/react-native';
import Input from '../../components/ui/input';

describe('Input', () => {
  test('ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¹Ø±Ø¶ placeholder', () => {
    render(<Input placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù†Øµ" onChangeText={() => {}} />);
    expect(screen.getByPlaceholderText('Ø£Ø¯Ø®Ù„ Ø§Ù„Ù†Øµ')).toBeTruthy();
  });

  test('ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ³ØªØ¬ÙŠØ¨ Ù„Ù„ØªØºÙŠÙŠØ±', () => {
    const mockOnChangeText = jest.fn();
    render(<Input placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù†Øµ" onChangeText={mockOnChangeText} />);

    const input = screen.getByPlaceholderText('Ø£Ø¯Ø®Ù„ Ø§Ù„Ù†Øµ');
    fireEvent.changeText(input, 'Ù†Øµ Ø¬Ø¯ÙŠØ¯');

    expect(mockOnChangeText).toHaveBeenCalledWith('Ù†Øµ Ø¬Ø¯ÙŠØ¯');
  });

  test('ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø®Ø·Ø£', () => {
    render(
      <Input
        placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù†Øµ"
        onChangeText={() => {}}
        error="Ù‡Ø°Ø§ Ø§Ù„Ø­Ù‚Ù„ Ù…Ø·Ù„ÙˆØ¨"
      />
    );

    expect(screen.getByText('Ù‡Ø°Ø§ Ø§Ù„Ø­Ù‚Ù„ Ù…Ø·Ù„ÙˆØ¨')).toBeTruthy();
  });

  test('ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø¢Ù…Ù† Ù„Ù„Ù†Øµ Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§Ø¬Ø©', () => {
    render(
      <Input
        placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±"
        onChangeText={() => {}}
        secureTextEntry={true}
      />
    );

    const input = screen.getByPlaceholderText('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±');
    expect(input.props.secureTextEntry).toBe(true);
  });
});
```

---

## ğŸ›’ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø´Ø§Ø´Ø§Øª Ø§Ù„ØªØ³ÙˆÙ‚

### 1. **CartScreen.test.tsx**

```typescript
import React from 'react';
import { render, screen, fireEvent, waitFor } from '@testing-library/react-native';
import { NavigationContainer } from '@react-navigation/native';
import { CartProvider } from '../../context/CartContext';
import CartScreen from '../../screens/delivery/CartScreen';

describe('CartScreen', () => {
  test('ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¹Ø±Ø¶ Ø§Ù„Ø³Ù„Ø© Ø§Ù„ÙØ§Ø±ØºØ©', () => {
    render(
      <NavigationContainer>
        <CartProvider>
          <CartScreen />
        </CartProvider>
      </NavigationContainer>
    );

    expect(screen.getByText('Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©')).toBeTruthy();
    expect(screen.getByText('Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ³ÙˆÙ‚ Ø§Ù„Ø¢Ù†')).toBeTruthy();
  });

  test('ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ø§Ù„Ø³Ù„Ø©', () => {
    const mockCartItems = [
      { id: 1, name: 'Ù…Ù†ØªØ¬ 1', price: 100, quantity: 2 },
      { id: 2, name: 'Ù…Ù†ØªØ¬ 2', price: 50, quantity: 1 },
    ];

    render(
      <NavigationContainer>
        <CartProvider initialItems={mockCartItems}>
          <CartScreen />
        </CartProvider>
      </NavigationContainer>
    );

    expect(screen.getByText('Ù…Ù†ØªØ¬ 1')).toBeTruthy();
    expect(screen.getByText('Ù…Ù†ØªØ¬ 2')).toBeTruthy();
    expect(screen.getByText('Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: 250 Ø±ÙŠØ§Ù„')).toBeTruthy();
  });

  test('ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ²ÙŠØ¯ ÙƒÙ…ÙŠØ© Ø§Ù„Ù…Ù†ØªØ¬', () => {
    const mockCartItems = [{ id: 1, name: 'Ù…Ù†ØªØ¬ 1', price: 100, quantity: 1 }];

    render(
      <NavigationContainer>
        <CartProvider initialItems={mockCartItems}>
          <CartScreen />
        </CartProvider>
      </NavigationContainer>
    );

    const increaseButton = screen.getByTestId('increase-quantity-1');
    fireEvent.press(increaseButton);

    expect(screen.getByText('Ø§Ù„ÙƒÙ…ÙŠØ©: 2')).toBeTruthy();
  });

  test('ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬ Ù…Ù† Ø§Ù„Ø³Ù„Ø©', () => {
    const mockCartItems = [{ id: 1, name: 'Ù…Ù†ØªØ¬ 1', price: 100, quantity: 1 }];

    render(
      <NavigationContainer>
        <CartProvider initialItems={mockCartItems}>
          <CartScreen />
        </CartProvider>
      </NavigationContainer>
    );

    const deleteButton = screen.getByTestId('delete-item-1');
    fireEvent.press(deleteButton);

    expect(screen.queryByText('Ù…Ù†ØªØ¬ 1')).toBeFalsy();
    expect(screen.getByText('Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©')).toBeTruthy();
  });
});
```

---

## ğŸ”§ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©

### 1. **axiosInstance.test.ts**

```typescript
import axios from "axios";
import { axiosInstance } from "../../utils/api/axiosInstance";

// Mock axios
jest.mock("axios");

describe("axiosInstance", () => {
  beforeEach(() => {
    jest.clearAllMocks();
  });

  test("ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¶ÙŠÙ headers Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©", async () => {
    const mockAxios = axios as jest.Mocked<typeof axios>;
    mockAxios.create.mockReturnValue(mockAxios);
    mockAxios.interceptors.request.use.mockImplementation((fn) => {
      const config = { headers: {} };
      fn(config);
      return config;
    });

    // Mock AsyncStorage
    const mockToken = "test-token";
    jest
      .spyOn(require("@react-native-async-storage/async-storage"), "getItem")
      .mockResolvedValue(mockToken);

    const instance = axiosInstance;
    const requestInterceptor =
      mockAxios.interceptors.request.use.mock.calls[0][0];

    const config = { headers: {} };
    const result = requestInterceptor(config);

    expect(result.headers.Authorization).toBe(`Bearer ${mockToken}`);
  });

  test("ÙŠØ¬Ø¨ Ø£Ù† ÙŠØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ token", async () => {
    const mockAxios = axios as jest.Mocked<typeof axios>;
    mockAxios.create.mockReturnValue(mockAxios);
    mockAxios.interceptors.request.use.mockImplementation((fn) => {
      const config = { headers: {} };
      fn(config);
      return config;
    });

    // Mock AsyncStorage returning null
    jest
      .spyOn(require("@react-native-async-storage/async-storage"), "getItem")
      .mockResolvedValue(null);

    const instance = axiosInstance;
    const requestInterceptor =
      mockAxios.interceptors.request.use.mock.calls[0][0];

    const config = { headers: {} };
    const result = requestInterceptor(config);

    expect(result.headers.Authorization).toBeUndefined();
  });

  test("ÙŠØ¬Ø¨ Ø£Ù† ÙŠØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø·Ù„Ø¨", async () => {
    const mockAxios = axios as jest.Mocked<typeof axios>;
    mockAxios.create.mockReturnValue(mockAxios);
    mockAxios.interceptors.response.use.mockImplementation(
      (successFn, errorFn) => {
        const error = { response: { status: 401 } };
        errorFn(error);
        return error;
      }
    );

    const instance = axiosInstance;
    const errorInterceptor =
      mockAxios.interceptors.response.use.mock.calls[0][1];

    const error = { response: { status: 401 } };
    const result = errorInterceptor(error);

    expect(result).toBe(error);
  });
});
```

---

## ğŸ“± Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ©

### 1. **DynamicFAB.test.tsx**

```typescript
import React from 'react';
import { render, screen, fireEvent } from '@testing-library/react-native';
import DynamicFAB from '../../components/DynamicFAB';

describe('DynamicFAB', () => {
  test('ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¹Ø±Ø¶ Ø²Ø± FAB Ø£Ø³Ø§Ø³ÙŠ', () => {
    render(<DynamicFAB onPress={() => {}} />);
    expect(screen.getByTestId('fab-button')).toBeTruthy();
  });

  test('ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ³ØªØ¬ÙŠØ¨ Ù„Ù„Ù†Ù‚Ø±', () => {
    const mockOnPress = jest.fn();
    render(<DynamicFAB onPress={mockOnPress} />);

    const fabButton = screen.getByTestId('fab-button');
    fireEvent.press(fabButton);

    expect(mockOnPress).toHaveBeenCalledTimes(1);
  });

  test('ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¹Ø±Ø¶ Ø£ÙŠÙ‚ÙˆÙ†Ø© Ù…Ø®ØµØµØ©', () => {
    render(<DynamicFAB onPress={() => {}} icon="plus" />);
    expect(screen.getByTestId('fab-icon-plus')).toBeTruthy();
  });

  test('ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ·Ø¨Ù‚ Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ù…Ø®ØªÙ„ÙØ©', () => {
    const { rerender } = render(
      <DynamicFAB onPress={() => {}} variant="primary" />
    );
    expect(screen.getByTestId('fab-button')).toBeTruthy();

    rerender(<DynamicFAB onPress={() => {}} variant="secondary" />);
    expect(screen.getByTestId('fab-button')).toBeTruthy();
  });
});
```

---

## ğŸ¯ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„ØªÙƒØ§Ù…Ù„

### 1. **UserFlow.test.tsx**

```typescript
import React from 'react';
import { render, screen, fireEvent, waitFor } from '@testing-library/react-native';
import { NavigationContainer } from '@react-navigation/native';
import { CartProvider } from '../../context/CartContext';
import { ThemeProvider } from '../../context/ThemeContext';
import LoginScreen from '../../screens/Auth/LoginScreen';
import HomeScreen from '../../screens/HomeScreen';

describe('User Flow Integration', () => {
  test('ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙ†ØªÙ‚Ù„ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©', async () => {
    const mockLoginUser = require('../../api/authService').loginUser;
    mockLoginUser.mockResolvedValue({ user: { id: 1, name: 'Ø£Ø­Ù…Ø¯' } });

    const mockNavigate = jest.fn();
    jest.spyOn(require('@react-navigation/native'), 'useNavigation').mockReturnValue({
      navigate: mockNavigate,
    });

    render(
      <NavigationContainer>
        <ThemeProvider>
          <CartProvider>
            <LoginScreen />
          </CartProvider>
        </ThemeProvider>
      </NavigationContainer>
    );

    const emailInput = screen.getByPlaceholderText('Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ');
    const passwordInput = screen.getByPlaceholderText('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±');

    fireEvent.changeText(emailInput, 'test@example.com');
    fireEvent.changeText(passwordInput, 'password123');

    const loginButton = screen.getByText('ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„');
    fireEvent.press(loginButton);

    await waitFor(() => {
      expect(mockNavigate).toHaveBeenCalledWith('Home');
    });
  });

  test('ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¶ÙŠÙ Ù…Ù†ØªØ¬ Ù„Ù„Ø³Ù„Ø© Ù…Ù† Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©', async () => {
    render(
      <NavigationContainer>
        <ThemeProvider>
          <CartProvider>
            <HomeScreen />
          </CartProvider>
        </ThemeProvider>
      </NavigationContainer>
    );

    const addToCartButton = screen.getByTestId('add-to-cart-1');
    fireEvent.press(addToCartButton);

    await waitFor(() => {
      expect(screen.getByText('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ù„Ù„Ø³Ù„Ø©')).toBeTruthy();
    });
  });
});
```

---

## ğŸ“Š Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡

### 1. **Performance.test.tsx**

```typescript
import React from 'react';
import { render } from '@testing-library/react-native';
import { performance } from 'perf_hooks';
import HomeScreen from '../../screens/HomeScreen';

describe('Performance Tests', () => {
  test('ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ­Ù…Ù„ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ÙÙŠ Ø£Ù‚Ù„ Ù…Ù† 2 Ø«Ø§Ù†ÙŠØ©', async () => {
    const startTime = performance.now();

    render(<HomeScreen />);

    const endTime = performance.now();
    const loadTime = endTime - startTime;

    expect(loadTime).toBeLessThan(2000); // 2 seconds
  });

  test('ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¹Ø§Ù„Ø¬ 1000 Ù…Ù†ØªØ¬ Ø¨Ø¯ÙˆÙ† ØªØ£Ø®ÙŠØ±', () => {
    const largeProductList = Array.from({ length: 1000 }, (_, i) => ({
      id: i,
      name: `Ù…Ù†ØªØ¬ ${i}`,
      price: Math.random() * 100,
    }));

    const startTime = performance.now();

    // Simulate processing large list
    const processedList = largeProductList.map(product => ({
      ...product,
      formattedPrice: `${product.price.toFixed(2)} Ø±ÙŠØ§Ù„`,
    }));

    const endTime = performance.now();
    const processTime = endTime - startTime;

    expect(processTime).toBeLessThan(100); // 100ms
    expect(processedList).toHaveLength(1000);
  });
});
```

---

## ğŸ”’ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø£Ù…Ø§Ù†

### 1. **Security.test.tsx**

```typescript
import React from 'react';
import { render, screen, fireEvent } from '@testing-library/react-native';
import LoginScreen from '../../screens/Auth/LoginScreen';

describe('Security Tests', () => {
  test('ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙ…Ù†Ø¹ SQL injection ÙÙŠ Ø­Ù‚Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ', () => {
    render(<LoginScreen />);

    const emailInput = screen.getByPlaceholderText('Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ');
    const maliciousInput = "'; DROP TABLE users; --";

    fireEvent.changeText(emailInput, maliciousInput);

    expect(emailInput.props.value).toBe(maliciousInput);
    // Should not execute SQL commands
  });

  test('ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙ…Ù†Ø¹ XSS ÙÙŠ Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„', () => {
    render(<LoginScreen />);

    const emailInput = screen.getByPlaceholderText('Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ');
    const xssInput = '<script>alert("XSS")</script>';

    fireEvent.changeText(emailInput, xssInput);

    expect(emailInput.props.value).toBe(xssInput);
    // Should not execute JavaScript
  });

  test('ÙŠØ¬Ø¨ Ø£Ù† ÙŠØªØ­Ù‚Ù‚ Ù…Ù† Ù‚ÙˆØ© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±', () => {
    render(<LoginScreen />);

    const passwordInput = screen.getByPlaceholderText('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±');

    // Weak password
    fireEvent.changeText(passwordInput, '123');
    expect(screen.getByText('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¶Ø¹ÙŠÙØ©')).toBeTruthy();

    // Strong password
    fireEvent.changeText(passwordInput, 'StrongPass123!');
    expect(screen.queryByText('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¶Ø¹ÙŠÙØ©')).toBeFalsy();
  });
});
```

---

## ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ù‡Ù…Ø©

### 1. **Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª**

```bash
# ØªØ«Ø¨ÙŠØª Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
npm install --save-dev @testing-library/react-native @testing-library/jest-native

# ØªØ´ØºÙŠÙ„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª
npm test

# ØªØ´ØºÙŠÙ„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ù…Ø¹ Ø§Ù„ØªØºØ·ÙŠØ©
npm run test:cov
```

### 2. **Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª**

- Ø§Ø³ØªØ®Ø¯Ù… Ø£Ø³Ù…Ø§Ø¡ ÙˆØµÙÙŠØ© Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª
- Ø§Ø®ØªØ¨Ø± Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø¥ÙŠØ¬Ø§Ø¨ÙŠØ© ÙˆØ§Ù„Ø³Ù„Ø¨ÙŠØ©
- Ø§Ø®ØªØ¨Ø± Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø­Ø¯ÙŠØ©
- Ø§Ø³ØªØ®Ø¯Ù… Mock Ù„Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ©
- Ø­Ø§ÙØ¸ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø³Ø±ÙŠØ¹Ø© ÙˆÙ…Ø³ØªÙ‚Ù„Ø©

### 3. **Ø£Ø¯ÙˆØ§Øª Ù…ÙÙŠØ¯Ø©**

- **Jest**: Ø¥Ø·Ø§Ø± Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
- **React Native Testing Library**: Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª
- **Mock**: Ù„Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ©
- **Coverage**: Ù„Ù‚ÙŠØ§Ø³ ØªØºØ·ÙŠØ© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª

---

_ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù‡Ø°Ù‡ Ø§Ù„Ø£Ù…Ø«Ù„Ø© ÙÙŠ: ${new Date().toLocaleDateString('ar-SA')}_
