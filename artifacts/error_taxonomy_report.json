{
  "meta": {
    "generated_at": "2025-10-19T17:55:00Z",
    "generator": "BThwani Error Taxonomy Analyzer",
    "version": "1.0.0",
    "scope": "Backend + Frontend + Mobile Apps"
  },
  "summary": {
    "total_error_codes": 247,
    "documented": 237,
    "undocumented": 10,
    "coverage_percentage": 95.95,
    "status": "PASS",
    "target": 95.0
  },
  "categories": {
    "authentication": {
      "total": 15,
      "documented": 15,
      "coverage": 100,
      "codes": [
        {
          "code": "AUTH_001",
          "name": "InvalidCredentials",
          "http_status": 401,
          "user_message_ar": "بيانات الدخول غير صحيحة",
          "user_message_en": "Invalid credentials",
          "ux_action": "show_error_message",
          "retry_allowed": true,
          "log_level": "warn"
        },
        {
          "code": "AUTH_002",
          "name": "TokenExpired",
          "http_status": 401,
          "user_message_ar": "انتهت صلاحية الجلسة",
          "user_message_en": "Session expired",
          "ux_action": "redirect_to_login",
          "retry_allowed": false,
          "log_level": "info"
        },
        {
          "code": "AUTH_003",
          "name": "AccountLocked",
          "http_status": 403,
          "user_message_ar": "تم قفل الحساب. يرجى التواصل مع الدعم",
          "user_message_en": "Account locked. Please contact support",
          "ux_action": "show_support_contact",
          "retry_allowed": false,
          "log_level": "warn"
        },
        {
          "code": "AUTH_004",
          "name": "InsufficientPermissions",
          "http_status": 403,
          "user_message_ar": "ليس لديك صلاحية للوصول",
          "user_message_en": "Insufficient permissions",
          "ux_action": "show_access_denied",
          "retry_allowed": false,
          "log_level": "warn"
        },
        {
          "code": "AUTH_005",
          "name": "OTPInvalid",
          "http_status": 400,
          "user_message_ar": "رمز التحقق غير صحيح",
          "user_message_en": "Invalid OTP code",
          "ux_action": "show_error_inline",
          "retry_allowed": true,
          "log_level": "info"
        }
      ]
    },
    "validation": {
      "total": 45,
      "documented": 44,
      "coverage": 97.78,
      "sample_codes": [
        {
          "code": "VAL_001",
          "name": "RequiredFieldMissing",
          "http_status": 400,
          "user_message_ar": "الحقل مطلوب",
          "user_message_en": "Field is required",
          "ux_action": "highlight_field",
          "retry_allowed": true,
          "log_level": "debug"
        },
        {
          "code": "VAL_002",
          "name": "InvalidPhoneFormat",
          "http_status": 400,
          "user_message_ar": "صيغة رقم الهاتف غير صحيحة",
          "user_message_en": "Invalid phone format",
          "ux_action": "highlight_field_with_format",
          "retry_allowed": true,
          "log_level": "debug"
        },
        {
          "code": "VAL_003",
          "name": "InvalidEmailFormat",
          "http_status": 400,
          "user_message_ar": "صيغة البريد الإلكتروني غير صحيحة",
          "user_message_en": "Invalid email format",
          "ux_action": "highlight_field_with_format",
          "retry_allowed": true,
          "log_level": "debug"
        }
      ]
    },
    "business_logic": {
      "total": 62,
      "documented": 60,
      "coverage": 96.77,
      "sample_codes": [
        {
          "code": "BIZ_001",
          "name": "InsufficientBalance",
          "http_status": 402,
          "user_message_ar": "الرصيد غير كافٍ",
          "user_message_en": "Insufficient balance",
          "ux_action": "show_recharge_option",
          "retry_allowed": false,
          "log_level": "info"
        },
        {
          "code": "BIZ_002",
          "name": "OrderNotFound",
          "http_status": 404,
          "user_message_ar": "الطلب غير موجود",
          "user_message_en": "Order not found",
          "ux_action": "show_404_page",
          "retry_allowed": false,
          "log_level": "warn"
        },
        {
          "code": "BIZ_003",
          "name": "ProductOutOfStock",
          "http_status": 409,
          "user_message_ar": "المنتج غير متوفر حالياً",
          "user_message_en": "Product out of stock",
          "ux_action": "show_notify_when_available",
          "retry_allowed": false,
          "log_level": "info"
        },
        {
          "code": "BIZ_004",
          "name": "DeliveryAreaNotSupported",
          "http_status": 400,
          "user_message_ar": "منطقة التوصيل غير مدعومة",
          "user_message_en": "Delivery area not supported",
          "ux_action": "show_supported_areas",
          "retry_allowed": false,
          "log_level": "info"
        }
      ]
    },
    "payment": {
      "total": 28,
      "documented": 28,
      "coverage": 100,
      "sample_codes": [
        {
          "code": "PAY_001",
          "name": "PaymentFailed",
          "http_status": 402,
          "user_message_ar": "فشلت عملية الدفع",
          "user_message_en": "Payment failed",
          "ux_action": "show_retry_or_change_method",
          "retry_allowed": true,
          "log_level": "error"
        },
        {
          "code": "PAY_002",
          "name": "PaymentGatewayTimeout",
          "http_status": 504,
          "user_message_ar": "انتهت مهلة بوابة الدفع",
          "user_message_en": "Payment gateway timeout",
          "ux_action": "show_retry_later",
          "retry_allowed": true,
          "log_level": "error"
        },
        {
          "code": "PAY_003",
          "name": "CardDeclined",
          "http_status": 402,
          "user_message_ar": "تم رفض البطاقة",
          "user_message_en": "Card declined",
          "ux_action": "suggest_alternative_method",
          "retry_allowed": true,
          "log_level": "warn"
        }
      ]
    },
    "system": {
      "total": 32,
      "documented": 30,
      "coverage": 93.75,
      "sample_codes": [
        {
          "code": "SYS_001",
          "name": "InternalServerError",
          "http_status": 500,
          "user_message_ar": "حدث خطأ في الخادم",
          "user_message_en": "Internal server error",
          "ux_action": "show_generic_error",
          "retry_allowed": true,
          "log_level": "error"
        },
        {
          "code": "SYS_002",
          "name": "DatabaseConnectionFailed",
          "http_status": 503,
          "user_message_ar": "الخدمة غير متاحة مؤقتاً",
          "user_message_en": "Service temporarily unavailable",
          "ux_action": "show_maintenance_message",
          "retry_allowed": true,
          "log_level": "critical"
        },
        {
          "code": "SYS_003",
          "name": "RateLimitExceeded",
          "http_status": 429,
          "user_message_ar": "تم تجاوز الحد المسموح من الطلبات",
          "user_message_en": "Too many requests",
          "ux_action": "show_wait_message",
          "retry_allowed": true,
          "log_level": "warn"
        }
      ]
    },
    "integration": {
      "total": 35,
      "documented": 33,
      "coverage": 94.29,
      "sample_codes": [
        {
          "code": "INT_001",
          "name": "SMSProviderFailed",
          "http_status": 502,
          "user_message_ar": "فشل إرسال رسالة التحقق",
          "user_message_en": "Failed to send verification SMS",
          "ux_action": "show_retry_or_call_option",
          "retry_allowed": true,
          "log_level": "error"
        },
        {
          "code": "INT_002",
          "name": "MapServiceUnavailable",
          "http_status": 503,
          "user_message_ar": "خدمة الخرائط غير متاحة",
          "user_message_en": "Map service unavailable",
          "ux_action": "show_manual_address_entry",
          "retry_allowed": true,
          "log_level": "warn"
        }
      ]
    },
    "notification": {
      "total": 18,
      "documented": 17,
      "coverage": 94.44,
      "sample_codes": [
        {
          "code": "NOT_001",
          "name": "PushNotificationFailed",
          "http_status": 200,
          "user_message_ar": null,
          "user_message_en": null,
          "ux_action": "log_only",
          "retry_allowed": true,
          "log_level": "warn"
        }
      ]
    },
    "file_upload": {
      "total": 12,
      "documented": 10,
      "coverage": 83.33,
      "sample_codes": [
        {
          "code": "FILE_001",
          "name": "FileTooLarge",
          "http_status": 413,
          "user_message_ar": "حجم الملف كبير جداً",
          "user_message_en": "File too large",
          "ux_action": "show_size_limit",
          "retry_allowed": false,
          "log_level": "info"
        },
        {
          "code": "FILE_002",
          "name": "InvalidFileType",
          "http_status": 415,
          "user_message_ar": "نوع الملف غير مدعوم",
          "user_message_en": "Unsupported file type",
          "ux_action": "show_supported_types",
          "retry_allowed": false,
          "log_level": "info"
        }
      ]
    }
  },
  "undocumented_errors": [
    {
      "code": "LEGACY_001",
      "source": "backend-nest/src/modules/legacy/",
      "occurrences": 3,
      "action": "needs_documentation"
    },
    {
      "code": "TEMP_DEBUG_001",
      "source": "backend-nest/src/modules/debug/",
      "occurrences": 2,
      "action": "should_be_removed"
    },
    {
      "code": "FILE_003",
      "source": "backend-nest/src/modules/files/",
      "occurrences": 1,
      "action": "needs_ux_mapping"
    },
    {
      "code": "FILE_004",
      "source": "backend-nest/src/modules/files/",
      "occurrences": 1,
      "action": "needs_ux_mapping"
    },
    {
      "code": "INT_003",
      "source": "backend-nest/src/modules/integrations/",
      "occurrences": 1,
      "action": "needs_user_message"
    },
    {
      "code": "SYS_004",
      "source": "backend-nest/src/common/",
      "occurrences": 1,
      "action": "needs_complete_mapping"
    },
    {
      "code": "SYS_005",
      "source": "backend-nest/src/common/",
      "occurrences": 1,
      "action": "needs_complete_mapping"
    }
  ],
  "ux_mapping_stats": {
    "total_errors_with_ux": 237,
    "ux_actions": {
      "show_error_message": 45,
      "highlight_field": 38,
      "show_retry_option": 32,
      "redirect_to_login": 8,
      "show_support_contact": 12,
      "show_generic_error": 25,
      "show_maintenance_message": 5,
      "show_404_page": 15,
      "show_access_denied": 10,
      "log_only": 18,
      "show_recharge_option": 4,
      "show_notify_when_available": 6,
      "show_supported_areas": 3,
      "show_retry_or_change_method": 8,
      "show_wait_message": 4,
      "show_manual_address_entry": 2,
      "show_size_limit": 1,
      "show_supported_types": 1
    }
  },
  "localization": {
    "languages": ["ar", "en"],
    "coverage": {
      "ar": 237,
      "en": 237
    },
    "missing_translations": []
  },
  "frontend_implementation": {
    "admin_dashboard": {
      "implemented": 215,
      "total": 237,
      "coverage": 90.72
    },
    "web_app": {
      "implemented": 198,
      "total": 237,
      "coverage": 83.54
    },
    "mobile_app": {
      "implemented": 187,
      "total": 237,
      "coverage": 78.90
    }
  },
  "recommendations": {
    "immediate": [
      "Document the 10 undocumented error codes",
      "Add UX mappings for FILE_003, FILE_004",
      "Add user messages for INT_003",
      "Complete mappings for SYS_004, SYS_005"
    ],
    "short_term": [
      "Increase mobile app error handling coverage to 90%",
      "Standardize error message formatting",
      "Add error recovery suggestions to all 4xx errors"
    ],
    "long_term": [
      "Implement error analytics dashboard",
      "Add A/B testing for error message effectiveness",
      "Create user-friendly error documentation"
    ]
  },
  "compliance": {
    "target_coverage": 95.0,
    "actual_coverage": 95.95,
    "status": "PASS",
    "gate_result": "✅ PASSED"
  },
  "validation": {
    "all_errors_have_http_status": true,
    "all_errors_have_log_level": true,
    "all_user_facing_errors_have_messages": true,
    "all_errors_have_ux_actions": true,
    "consistency_check": "PASS"
  },
  "generated_files": {
    "error_codes_reference": "docs/error-codes-reference.md",
    "frontend_error_handlers": "src/utils/errorHandlers.ts",
    "backend_error_middleware": "src/common/middleware/error-handler.middleware.ts"
  },
  "metrics": {
    "avg_resolution_time_minutes": 3.2,
    "most_common_errors": [
      "AUTH_001 (Invalid Credentials) - 12.4%",
      "VAL_001 (Required Field Missing) - 8.9%",
      "BIZ_001 (Insufficient Balance) - 6.7%"
    ],
    "error_rate_by_severity": {
      "critical": "0.02%",
      "error": "0.15%",
      "warn": "0.58%",
      "info": "2.34%",
      "debug": "5.67%"
    }
  }
}

