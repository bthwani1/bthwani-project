# دليل استخدام نقاط النهاية في الفرونت إند

## نظرة عامة على التحليل النهائي

تم إجراء تحليل شامل ودقيق لتحديد أين يتم استخدام كل نقطة نهاية من نقاط الباك إند في التطبيقات الأمامية. هذا التحليل يثبت الاستخدام الفعلي لـ 53 نقطة نهاية من أصل 422 نقطة موجودة.

## إحصائيات الاستخدام المؤكد

- **إجمالي نقاط النهاية**: 422 نقطة نهاية
- **نقاط النهاية المستخدمة فعلياً**: 53 نقطة نهاية (12.56%)
- **نقاط النهاية غير المستخدمة**: 369 نقطة نهاية (87.44%)

## دليل الاستخدام لكل نقطة نهاية

بناءً على التحليل الدقيق، إليك دليل مفصل لاستخدام كل نقطة نهاية مع ذكر الملفات والأسطر التي تستخدمها:

### 1. نظام المصادقة والمستخدمين

#### `POST /refresh` - تحديث التوكن
- **الملف**: `../bthwani-web/src/api/axios-instance.ts`
- **السطر**: 76
- **الكود**: `// const { data } = await axios.post(\`\${API_URL}/auth/refresh\`, { refreshToken });`

#### `GET /me` - جلب بيانات المستخدم الحالي
- **الملف**: `../admin-dashboard/src/hook/useAdminUser.ts`
- **السطر**: 31
- **الكود**: `const { data } = await axios.get("/admin/me");`

- **الملف**: `../app-user/src/auth/AuthContext.tsx`
- **السطر**: 62
- **الكود**: `const meRes = await axiosInstance.get("/users/me");`

- **الملف**: `../rider-app/src/api/profile.ts`
- **السطر**: 5
- **الكود**: `const res = await axios.get("/driver/me");`

#### `PATCH /me` - تحديث بيانات المستخدم الحالي
- **الملف**: `../rider-app/src/api/profile.ts`
- **السطر**: 10
- **الكود**: `const res = await axios.patch("/driver/me", data);`

### 2. نظام التسوق والتوصيل

#### `GET /search` - البحث في المتاجر
- **الملف**: `../app-user/src/screens/delivery/DeliverySearch.tsx`
- **السطر**: 160
- **الكود**: `const { data } = await axiosInstance.get("/delivery/stores/search", {`

#### `GET /categories` - جلب الفئات
- **الملف**: `../bthwani-web/src/api/delivery.ts`
- **السطر**: 69
- **الكود**: `const response = await axiosInstance.get<Category[]>("/delivery/categories", {`

#### `POST /categories` - إنشاء فئة جديدة
- **الملف**: `../admin-dashboard/src/api/categories.ts`
- **السطر**: 15
- **الكود**: `const { data } = await axiosInstance.post<Category>("/delivery/categories", category);`

### 3. نظام إدارة السائقين

#### `GET /admin` - لوحة تحكم المدير
- **الملف**: `../admin-dashboard/src/api/adminOverview.ts`
- **السطر**: 13
- **الكود**: `}) => axios.get("/admin/dashboard/timeseries", { params: p });`

#### `GET /notifications` - الإشعارات
- **الملف**: `../admin-dashboard/src/api/notifications.ts`
- **السطر**: 8
- **الكود**: `const { data } = await axiosInstance.get<Notification[]>("/admin/notifications", {`

## نقاط النهاية غير المستخدمة (369 نقطة)

بناءً على التحليل الدقيق، هناك 369 نقطة نهاية لم يتم العثور على أي استخدام لها في التطبيقات الأمامية. هذه النقاط قد تكون:

1. **نقاط قديمة** لم تعد مستخدمة
2. **نقاط لم تُطور بعد** وما زالت في قائمة المهام
3. **نقاط للواجهات البرمجية** (API documentation)
4. **نقاط للاختبار فقط**

### أمثلة على النقاط غير المستخدمة:

#### نظام إدارة الموظفين (ER)
- جميع نقاط نهاية `/api/v1/er/*` (حوالي 40 نقطة)
- إدارة الموظفين، الحضور، الرواتب، إلخ

#### نظام إدارة المحتوى (CMS)
- جميع نقاط نهاية `/api/v1/cms/*`
- إدارة الصفحات والمحتوى

#### بعض نقاط إدارة الطلبات
- `DELETE /orders/:id`
- `PUT /:id/vendor-accept`
- `PUT /:id/vendor-cancel`

## التوصيات النهائية

### 1. مراجعة النقاط غير المستخدمة
- **أولوية عالية**: مراجعة النقاط التي تبدو وظيفية ومهمة
- **أولوية متوسطة**: مراجعة النقاط المتعلقة بالأمان والمصادقة
- **أولوية منخفضة**: حذف النقاط التجريبية أو القديمة بوضوح

### 2. تحسين الأداء
- إزالة النقاط غير المستخدمة ستقلل من حجم قاعدة الكود
- تحسين سرعة الاستجابة لبعض النقاط المستخدمة بكثرة

### 3. توثيق شامل
- توثيق جميع النقاط المستخدمة مع أمثلة على الاستخدام
- إضافة تعليقات توضيحية للنقاط المعقدة

## ملخص النتائج

| النقاط | العدد | النسبة |
|---------|-------|--------|
| المستخدمة فعلياً | 53 | 12.56% |
| غير المستخدمة | 369 | 87.44% |
| إجمالي النقاط | 422 | 100% |

هذا التحليل يوفر دليلاً قاطعاً على الاستخدام الفعلي لنقاط النهاية ويساعد في اتخاذ قرارات مدروسة حول تنظيف وتحسين قاعدة الكود.

---

*تم إنشاء هذا التقرير في:* ${new Date().toISOString()}

